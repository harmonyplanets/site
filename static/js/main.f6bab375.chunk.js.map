{"version":3,"sources":["Web3Util.js","images/background3.jpg","components/HeaderComponent.js","pages/HomePage.js","images/harmonylogo.png","components/PlanetWalletComponent.js","pages/WalletPage.js","components/MarketFilterComponent.js","pages/MarketplacePage.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["contractAddressMarketplace","getWeb3","Promise","resolve","reject","a","window","ethereum","web3","Web3","enable","console","log","provider","providers","HttpProvider","getInstanceHarmonyPlanets","eth","getAccounts","user","instanceHarmonyPlanets","Contract","HarmonyPlanetsABI","from","getInstanceMarketplace","instanceMarketplace","MarketplaceABI","HeaderComponent","props","className","to","href","target","xmlns","width","height","viewBox","fill","d","style","float","React","Component","HomePage","componentDidMount","contractInstanceHarmonyPlanets","setState","loadData","isLoadingHomepageData","interval","setInterval","tick","state","hasHomepageData","nftIndexAvaxSki","avaxSkiSelect","isMintingAvaxSki","isClaimingRewards","myRewards","totalSupply","price","timeLeft","mint","bind","decreaseSelect","increaseSelect","claimRewards","distance","Date","getTime","days","Math","floor","hours","minutes","seconds","this","clearInterval","methods","call","isMinting","localValue","utils","toWei","send","value","Container","margin","undefined","textAlign","onClick","then","location","reload","padding","paddingTop","paddingBottom","minHeight","Grid","container","spacing","item","md","xs","src","display","backgroundImage","background2","color","metadata","sort","b","edition","PlanetWalletComponent","id","Number","parseInt","tokenID","result","tokenMetadata","e","isLoadingData","border","borderRadius","overflow","borderBottom","paddingLeft","paddingRight","isMarketplace","callBackBuy","callBackRemove","harmonylogo","marginRight","fromWei","toFixed","finishedLoading","isApproved","callBackList","callBackApprove","callBackTransfer","WalletPage","contractInstanceMarketplace","isClaimingRewardsMinting","myRewardsMinting","userTokens","page","isLoadingMintingRewards","listedTokens","approvedTokens","currentCounter","transferToken","getPlanets","showMore","toAddr","getBlockNumber","blocknumber","all","getPastEvents","filter","fromBlock","toBlock","incomingTokenTransferEvents","outgoingTokenTransferEvents","incomingTokenListingEvents","incomingTokenListingCancelledEvents","incomingTokenListingSaleEvents","cancelledTokens","soldTokens","forEach","event","push","returnValues","tokenId","index","indexOf","splice","collator","Intl","Collator","numeric","sensitivity","compare","counter","length","getReflectionBalance","tokenRewards","newListedTokens1","newListedTokens2","i","isTokenPresent","j","skierID","cancelListing","prompt","isNaN","createListing","address","transferFrom","approve","components","localCounter","userToken","skierDetails","listedToken","approvedToken","approveToken","listToken","removeListing","MarketFilterComponent","attributes","selectedFilters","resetFilter","updateSelectedFilter","prevProps","allMarketSkiers","skier","attribute","trait_type","attributeName","callBack","attributeValueList","attributeValues","selected","onChange","disabled","Object","entries","getFilteringOptions","MarketplacePage","isClaimingRewardsMarket","myRewardsMarket","totalMinted","shownMarketSkiers","totalVolume","totalSales","floorPrice","loadedRewardsMarket","sortValue","updateShownSkiers","updateSort","getReflectionBalances","marketPlanets","newMarketPlanets","marketPlanet","planetID","some","element","localSkier","containsIsForSale","buy","buySkier","newFilter","localSkiers","newShownSkiers","shouldShowSkier","selectedValue","newArray","getSkiers","Routes","exact","path","component","render","App","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f6bab375.chunk.js","sourcesContent":["import Web3 from 'web3';\r\nimport HarmonyPlanetsABI from './abi/avaxski.json'\r\nimport MarketplaceABI from './abi/marketplace.json'\r\n\r\n// testnet \r\nconst contractAddressHarmonyPlanets = \"0x88b4F4f666bE1923e2D3082186a57738361D24c2\"\r\nexport const contractAddressMarketplace = \"0x85c574d72Ae9e521Aa8747c625dE7aE3BDcD676B\"\r\n\r\n// mainnet \r\n// const contractAddressHarmonyPlanets = \"0x2fCb6A640cFCfEcE15D9582660Fa7294150DA93e\"\r\n// export const contractAddressMarketplace = \"0x1323Da945912F1DcC5c301Bf1542A622Fd015553\"\r\n\r\nexport const getWeb3 = () =>\r\n    new Promise(async(resolve, reject) => {\r\n    if (window.ethereum) {\r\n        const web3 = new Web3(window.ethereum);\r\n        try {\r\n            await window.ethereum.enable();\r\n        resolve(web3);\r\n        } catch (error) {\r\n        reject(error);\r\n        }\r\n    } else if (window.web3) {\r\n        // load metamask provider\r\n        const web3 = window.web3;\r\n        console.log(\"Injected web3 detected.\");\r\n        resolve(web3);\r\n    } else {\r\n        // main net\r\n        const provider = new Web3.providers.HttpProvider(\"https://api.s0.t.hmny.io/\");\r\n\r\n        // test net \r\n        // const provider = new Web3.providers.HttpProvider(\"https://api.avax-test.network/ext/bc/C/rpc\");\r\n\r\n        const web3 = new Web3(provider);\r\n        console.log(\"No web3 instance injected, using Local web3.\");\r\n        resolve(web3);\r\n    }\r\n});\r\nexport const getInstanceHarmonyPlanets = async (web3) => {\r\n    window.user = (await web3.eth.getAccounts())[0];\r\n    \r\n    window.instanceHarmonyPlanets= new web3.eth.Contract(\r\n        HarmonyPlanetsABI,\r\n        contractAddressHarmonyPlanets,\r\n        {\r\n            from: window.user\r\n        }\r\n    );\r\n    return window.instanceHarmonyPlanets;\r\n}\r\n\r\nexport const getInstanceMarketplace= async (web3) => {\r\n    window.user = (await web3.eth.getAccounts())[0];\r\n    \r\n    window.instanceMarketplace= new web3.eth.Contract(\r\n        MarketplaceABI,\r\n        contractAddressMarketplace,\r\n        {\r\n            from: window.user\r\n        }\r\n    );\r\n    return window.instanceMarketplace;\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/background3.0ebdee5f.jpg\";","import React from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass HeaderComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n  }\r\n\r\n  render() {\r\n   \r\n    return(\r\n        <header className=\"header-ski\">\r\n        <div className=\"logo-holder\">\r\n         <Link to=\"/\">Harmony Planets</Link>\r\n        </div>\r\n        <div className=\"rest-holder\">\r\n         <div className=\"mobile-hide\" >\r\n           <a href=\"https://twitter.com/harmonyplanets1\" target=\"_blank\">\r\n             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"black\" d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/></svg>\r\n           </a>\r\n         </div>\r\n         <div className=\"invisible\">\r\n           Hall of fame\r\n         </div>\r\n         <div>\r\n           <Link to=\"/wallet\" className=\"menu-link\">\r\n           My Planets\r\n           </Link>\r\n         </div>\r\n         <div>\r\n           <Link to=\"/market\" className=\"menu-link \">\r\n           Market\r\n           </Link>\r\n         </div>\r\n         <div>\r\n           <Link to=\"/\" className=\"menu-link\">\r\n           Home\r\n           </Link>\r\n         </div>\r\n        </div>\r\n       <div className=\"mobile-show menu-mobile\">\r\n         <div style={{float:\"left\"}} >\r\n             <a href=\"https://twitter.com/harmonyplanets1\" target=\"_blank\">\r\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"black\" d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/></svg>\r\n             </a>\r\n           </div>\r\n       </div>\r\n       </header>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HeaderComponent;\r\n","import React from \"react\";\r\nimport {getInstanceHarmonyPlanets,getWeb3}  from \"../Web3Util\";\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nimport background2 from '../images/background3.jpg'; \r\n\r\n\r\nimport HeaderComponent from '../components/HeaderComponent';\r\n\r\nconst SKI_SUPPLY = 100\r\nconst SKI_PRICE = 220\r\n\r\n// Date and time (GMT): Tuesday, Wed Oct 20 2021 23:20:54 https://currentmillis.com/\r\nvar countDownDate = 1635271200000;\r\n\r\nclass HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasHomepageData: false,\r\n      isLoadingHomepageData:true,\r\n      nftIndexAvaxSki:-100,\r\n      avaxSkiSelect:1,\r\n      isMintingAvaxSki:false,\r\n      isClaimingRewards:false,\r\n      myRewards:0,\r\n      totalSupply:0,\r\n      price:0,\r\n      timeLeft:\"\"\r\n    };\r\n    this.mint = this.mint.bind(this);\r\n    this.tick = this.tick.bind(this);\r\n    this.decreaseSelect = this.decreaseSelect.bind(this)\r\n    this.increaseSelect = this.increaseSelect.bind(this)\r\n    this.claimRewards = this.claimRewards.bind(this)\r\n    this.loadData = this.loadData.bind(this)\r\n  }\r\n  tick() {\r\n   \r\n\r\n    // Get today's date and time\r\n    var now = new Date().getTime();\r\n      \r\n    // Find the distance between now and the count down date\r\n    var distance = countDownDate - now;\r\n      \r\n    // Time calculations for days, hours, minutes and seconds\r\n    var days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n    var seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n      \r\n    // Output the result in an element with id=\"demo\"\r\n   \r\n    if (distance < 0) {\r\n      this.setState({\r\n        timeLeft:\"Minting live!\"\r\n      })\r\n    }else{\r\n      this.setState({\r\n        timeLeft:days + \"D:\" +hours + \"H:\" + minutes + \"M:\" +seconds+\"S\"\r\n      })\r\n    }\r\n  \r\n  }\r\n  componentDidMount = async () => {\r\n    try{\r\n      const web3 = await getWeb3();\r\n      window.web3 = web3;\r\n      const contractInstanceHarmonyPlanets = await getInstanceHarmonyPlanets(window.web3);\r\n\r\n      this.setState({ user: window.user });\r\n      this.setState({ contractInstanceHarmonyPlanets});\r\n      await this.loadData();\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({\r\n        isLoadingHomepageData:false\r\n      })\r\n    }\r\n    this.interval = setInterval(() => this.tick(), 250);\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  async loadData() {\r\n      try {\r\n        const totalSupply = await this.state.contractInstanceHarmonyPlanets.methods.totalSupply().call();\r\n        this.setState({ totalSupply });\r\n        \r\n        this.setState({hasHomepageData:true})\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }\r\n  }\r\n\r\n  increaseSelect(){\r\n    if(this.state.avaxSkiSelect<20){\r\n      this.setState({\r\n        avaxSkiSelect:this.state.avaxSkiSelect+1\r\n      })\r\n    }\r\n  }\r\n  \r\n  decreaseSelect(){\r\n    if(this.state.avaxSkiSelect>1){\r\n      this.setState({\r\n        avaxSkiSelect:this.state.avaxSkiSelect-1\r\n      })\r\n    }\r\n  }\r\n\r\n  async mint(){\r\n    try {\r\n        this.setState({isMinting:true})\r\n        let localValue = window.web3.utils.toWei((this.state.avaxSkiSelect*SKI_PRICE)+\"\", 'ether')\r\n\r\n        await this.state.contractInstanceHarmonyPlanets.methods.mint(this.state.avaxSkiSelect).send(\r\n          {value:localValue\r\n          }\r\n        )\r\n        await this.loadData()\r\n      } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({isMinting:false})\r\n    }\r\n  }\r\n\r\n  async claimRewards(){\r\n    try {\r\n        this.setState({isClaimingRewards:true})\r\n\r\n        await this.state.contractInstanceHarmonyPlanets.methods.claimRewards().send()\r\n        await this.loadData()\r\n      } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({isClaimingRewards:false})\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    return(\r\n       <>\r\n          <Container>\r\n          \r\n          <HeaderComponent/>\r\n          </Container>\r\n         \r\n          <Container style={{margin:\"25px\"}} >\r\n            {window.ethereum == null || window.ethereum == undefined?\r\n            <p style={{textAlign:\"center\"}}>\r\n              <a className=\"install-metamask\" href=\"https://metamask.io/download\" target=\"_blank\">Install Metamask</a>\r\n\r\n            </p>\r\n            :\r\n              <>\r\n              {window.user == null ?\r\n\r\n                <p style={{textAlign:\"center\"}}>\r\n                <a onClick={()=>{window.ethereum.enable().then(()=>window.location.reload()) }} className=\"install-metamask\" target=\"_blank\">Connect Metamask</a>\r\n\r\n                </p> : null\r\n                \r\n              }\r\n              \r\n              </>\r\n            }\r\n          </Container>\r\n\r\n          <Container style={{padding:\"35px\",paddingTop:\"10vh\",paddingBottom:\"10vh\",minHeight:\"200px\"}}>\r\n            <Grid container spacing={2}>\r\n              <Grid item md={2} xs={2}>\r\n              </Grid>\r\n              <Grid item md={4} xs={12}>\r\n                <div style={{textAlign:\"right\"}} className=\"mobile-center mint\">\r\n                  <img  style={{height:\"250px\"}} src={\"https://cloudflare-ipfs.com/ipfs/QmewTdpq5MtbgBNS8dokxhMfWzcp6XGwFGk66ni7unfu5Q/37.png\"} />\r\n                </div>\r\n              </Grid>\r\n              <Grid item md={4} xs={12} className=\"mobile-center mint minter-component\">\r\n                <div className=\"minted-component mobile-center mint\" style={{display:\"inline-block\"}}>\r\n                 {this.state.totalSupply}/{SKI_SUPPLY} <br />\r\n                 planets minted <br />\r\n                 <div>\r\n                   <span className=\"skier-select\"><a  onClick={()=>{this.decreaseSelect()}}>-</a><div>{this.state.avaxSkiSelect}</div><a onClick={()=>{this.increaseSelect()}}>+</a></span>\r\n                    <a onClick={()=>{this.mint()}}className=\"skier-jumpin\">Mint</a>\r\n                  </div>\r\n                </div>\r\n                <p className=\"skier-price\">\r\n                  {SKI_PRICE} $ONE / Planet\r\n                </p>\r\n              </Grid>\r\n              <Grid item md={2} xs={2}>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n          \r\n          <Container  className=\"tokenomics-container align-items-center\" style={{backgroundImage: `url(${background2})`}}>\r\n          <Grid container spacing={2} >\r\n              <Grid item md={12} xs={12} style={{textAlign:\"center\"}}>\r\n                <div>\r\n                  <p className=\"meet-planets\" style={{color:\"#435b5b\"}}>Tokenomics</p>\r\n                  <span className=\"meet-planets-text\">\r\n                    You can earn 3 different ways with the Harmony Planets! <br/>\r\n                    10% of every minting fee is given back to existing Harmony Planets holders. <br/>\r\n                    Original minters of a Planet earn 1% royalty each time their Planet is resold on our marketplace.<br />\r\n                    3% of EACH transaction on our marketplace is distributed to Planet holders!\r\n                  </span>\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n       </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Web3 from 'web3';\r\n\r\n\r\nimport harmonylogo from '../images/harmonylogo.png'; \r\n\r\nimport metadata from '../metadata/_metadata.json'; \r\nfunction compareAscendingID( a, b ) {\r\n    if ( a.edition < b.edition ){\r\n      return -1;\r\n    }\r\n    if ( a.edition > b.edition ){\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n  \r\nmetadata.sort( compareAscendingID );\r\n\r\nclass PlanetWalletComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoadingData: true,\r\n      tokenMetadata:[],\r\n    };\r\n\r\n  }\r\n  \r\n  componentDidMount = async () => {\r\n    try{\r\n        // let result = await axios.get('https://cloudflare-ipfs.com/ipfs/Qmdji9gmTxDq6Xyy1bdYBjYcYkaLrPzpXkwd6JkVMCA8DW/'+this.props.tokenID)\r\n        // this.setState({\r\n        //     tokenMetadata:result.data\r\n        // })\r\n        let id = Number.parseInt(this.props.tokenID)\r\n        // id+=1\r\n        let result = metadata[id]\r\n         this.setState({\r\n            tokenMetadata:result\r\n        })\r\n       \r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({\r\n        isLoadingData:false\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n      let id = Number.parseInt(this.props.tokenID)\r\n      id+=1\r\n \r\n     \r\n    return(\r\n        <div style={{margin:\"auto\",border:\"2px solid #212529\", borderRadius:\"10px\",overflow:\"hidden\"}}>\r\n            <Grid container>\r\n                <Grid item md={12} xs={12} style={{margin:\"auto\"}}>\r\n                    <img style={{width:\"100%\",borderBottom:\"2px solid #212529\"}} src={\"https://cloudflare-ipfs.com/ipfs/QmewTdpq5MtbgBNS8dokxhMfWzcp6XGwFGk66ni7unfu5Q/\"+id+\".png\"} />\r\n                </Grid>\r\n            </Grid>\r\n          \r\n            {this.props.price != undefined?\r\n                <>\r\n                {this.props.price >0?\r\n                <>\r\n                <br />\r\n                <div style={{paddingLeft:\"20px\",paddingRight:\"25px\"}}>\r\n                    {this.props.isMarketplace?\r\n                        <p style={{float:\"left\"}}><a onClick={this.props.callBackBuy}>Buy</a></p>\r\n                        :\r\n                        <p style={{float:\"left\"}} > <a onClick={this.props.callBackRemove}>Remove listing</a></p>\r\n                    }\r\n                    <p style={{float:\"right\"}}><img src={harmonylogo} style={{width:\"20px\",marginRight:\"5px\"}}/>{ Number(Web3.utils.fromWei(this.props.price+\"\",\"ether\")).toFixed(2)}  </p>\r\n                </div>   \r\n                </>\r\n                : \r\n                <>\r\n                    <br />\r\n                    <div style={{paddingLeft:\"20px\",paddingRight:\"20px\"}}>\r\n                        {this.props.isMarketplace?\r\n                            \r\n                            <p style={{float:\"left\"}}>Planet not for sale</p>\r\n                        :\r\n                            <>\r\n                                {this.props.finishedLoading?\r\n                                <>\r\n                                    {this.props.isApproved?\r\n                                    <p style={{float:\"left\"}}> <a onClick={this.props.callBackList}>Set planet price</a></p>\r\n                                :\r\n                                    <p style={{float:\"left\"}}> <a onClick={this.props.callBackApprove}>Approve token</a></p>\r\n                                }\r\n                                <br />\r\n                                </>\r\n                                :\r\n                                <>\r\n                                <p style={{float:\"left\"}} className=\"loading-animation\"> Loading...</p>\r\n                                <br />\r\n                                </>\r\n                                }\r\n                                \r\n                            </>\r\n                        }\r\n                    </div>   \r\n                </>\r\n                }\r\n                </>\r\n                : \r\n                <>\r\n                {this.props.isMarketplace?\r\n                     <>\r\n                     <br />\r\n                    <div style={{paddingLeft:\"20px\",paddingRight:\"25px\"}}>\r\n                            <p style={{float:\"left\"}} className=\"loading-animation\">Loading...</p>\r\n                    </div>\r\n                    </>\r\n                    : null\r\n                    }\r\n                </>\r\n            }\r\n\r\n                    {!this.props.isMarketplace?\r\n                     <>\r\n                     <br />\r\n                    <div style={{paddingLeft:\"20px\",paddingRight:\"25px\"}}>\r\n                        <p style={{float:\"left\"}}> <a onClick={this.props.callBackTransfer}>Transfer token</a></p>\r\n                    </div>\r\n                    </>\r\n                    : null\r\n                    }       \r\n           \r\n         \r\n            <br />\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlanetWalletComponent;\r\n","import React from \"react\";\r\nimport {getInstanceMarketplace, getInstanceHarmonyPlanets, getWeb3,contractAddressMarketplace}  from \"../Web3Util\";\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Web3 from 'web3';\r\n\r\nimport PlanetWalletComponent from '../components/PlanetWalletComponent';\r\nimport HeaderComponent from '../components/HeaderComponent';\r\n\r\n\r\nconst MORE_PER_PAGE = 6\r\n\r\nclass WalletPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isClaimingRewardsMinting:false,\r\n      myRewardsMinting:-1,\r\n      userTokens:[],\r\n      page:1,\r\n      isLoadingMintingRewards:true,\r\n      listedTokens:[],\r\n      approvedTokens:[],\r\n      finishedLoading:false,\r\n      currentCounter:MORE_PER_PAGE\r\n    };\r\n    this.claimRewards = this.claimRewards.bind(this)\r\n    this.transferToken = this.transferToken.bind(this)\r\n    this.getPlanets = this.getPlanets.bind(this)\r\n    this.showMore = this.showMore.bind(this)\r\n\r\n  }\r\n  componentDidMount = async () => {\r\n    try{\r\n      const web3 = await getWeb3();\r\n      window.web3 = web3;\r\n      const contractInstanceHarmonyPlanets = await getInstanceHarmonyPlanets(window.web3);\r\n      const contractInstanceMarketplace = await getInstanceMarketplace(window.web3);\r\n      \r\n      this.setState({ user: window.user });\r\n      this.setState({ contractInstanceHarmonyPlanets,contractInstanceMarketplace});\r\n      await this.loadData();\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({\r\n      })\r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    if(window.user == undefined){\r\n      this.setState({\r\n        isLoadingMintingRewards:false\r\n      })\r\n      return\r\n    }\r\n    try {\r\n      let userTokens = []\r\n      let myRewardsMinting = 0\r\n\r\n      let toAddr = window.user;\r\n      \r\n      console.log(\"@@@ here1\")\r\n      let blocknumber = await window.web3.eth.getBlockNumber()\r\n    \r\n      const [incomingTokenTransferEvents, outgoingTokenTransferEvents,\r\n        incomingTokenListingEvents, incomingTokenListingCancelledEvents,incomingTokenListingSaleEvents] = await Promise.all([\r\n        this.state.contractInstanceHarmonyPlanets.getPastEvents('Transfer', { filter: {'to': toAddr}, fromBlock: blocknumber-100000, toBlock: 'latest'}), \r\n        this.state.contractInstanceHarmonyPlanets.getPastEvents('Transfer', { filter: {'from': toAddr}, fromBlock:  blocknumber-100000, toBlock: 'latest'}),\r\n        this.state.contractInstanceMarketplace.getPastEvents('ListingCreated', { filter: {}, fromBlock: blocknumber-100000, toBlock: 'latest'}), \r\n        this.state.contractInstanceMarketplace.getPastEvents('ListingCancelled', { filter: {}, fromBlock:blocknumber-100000, toBlock: 'latest'}),\r\n        this.state.contractInstanceMarketplace.getPastEvents('Sale', { filter: {}, fromBlock: blocknumber-100000, toBlock: 'latest'})\r\n      ])\r\n     \r\n      console.log(\"@@@ incomingTokenTransferEvents\",incomingTokenTransferEvents)\r\n      let listedTokens = []\r\n      let cancelledTokens = []\r\n      let soldTokens = []\r\n\r\n      \r\n    \r\n      incomingTokenListingEvents.forEach( (event) =>{\r\n        listedTokens.push(event.returnValues)\r\n      });\r\n     \r\n      incomingTokenListingCancelledEvents.forEach( (event) =>{\r\n        cancelledTokens.push(event.returnValues.tokenId)\r\n      });\r\n\r\n      incomingTokenListingSaleEvents.forEach( (event) =>{\r\n        soldTokens.push(event.returnValues.tokenId)\r\n      });\r\n      incomingTokenTransferEvents.forEach( (event) =>{\r\n        userTokens.push(event.returnValues.tokenId)\r\n      });\r\n     \r\n      outgoingTokenTransferEvents.forEach( (event) =>{\r\n        const index = userTokens.indexOf(event.returnValues.tokenId);\r\n        if (index > -1) {\r\n          userTokens.splice(index, 1);\r\n        }\r\n      });\r\n\r\n      var collator = new Intl.Collator(undefined, {numeric: true, sensitivity: 'base'});\r\n\r\n      userTokens.sort(collator.compare)\r\n\r\n      this.setState({\r\n        userTokens\r\n      })\r\n\r\n      for(let counter=0;counter<userTokens.length;++counter){\r\n        let tokenID = userTokens[counter]\r\n        let tokenRewards = await this.state.contractInstanceHarmonyPlanets.methods.getReflectionBalance(tokenID).call()\r\n        myRewardsMinting+=Number.parseInt(tokenRewards)\r\n      }\r\n\r\n      this.setState({\r\n        myRewardsMinting,\r\n        isLoadingMintingRewards:false\r\n      })\r\n\r\n      // see tokens currently listed to find their price\r\n      \r\n\r\n      let newListedTokens1 = []\r\n      let newListedTokens2 = []\r\n\r\n      for (var i = 0 ; i< listedTokens.length; i++) {\r\n      \r\n        let isTokenPresent = false\r\n        for (var j =0; j < cancelledTokens.length; j++) {\r\n          if(Number.parseInt(listedTokens[i].tokenId) == Number.parseInt(cancelledTokens[j])){\r\n            isTokenPresent = true\r\n            cancelledTokens.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n        if(!isTokenPresent){\r\n          newListedTokens1.push(listedTokens[i])\r\n        }\r\n      }\r\n      for (var i = 0 ; i< newListedTokens1.length; i++) {\r\n      \r\n        let isTokenPresent = false\r\n        for (var j =0; j < soldTokens.length; j++) {\r\n          if(Number.parseInt(newListedTokens1[i].tokenId) == Number.parseInt(soldTokens[j])){\r\n            isTokenPresent = true\r\n            soldTokens.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n        if(!isTokenPresent){\r\n          newListedTokens2.push(newListedTokens1[i])\r\n        }\r\n      }\r\n     \r\n      this.setState({\r\n        listedTokens:newListedTokens2,\r\n        finishedLoading:true\r\n      })\r\n\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }\r\n  }\r\n\r\n  async removeListing(skierID){\r\n    this.setState({finishedLoading:false})\r\n\r\n    try {\r\n      await this.state.contractInstanceMarketplace.methods.cancelListing(skierID).send()\r\n      await this.loadData()\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({finishedLoading:true})\r\n    }\r\n  }\r\n\r\n  async listToken(skierID){\r\n    var price = prompt(\"Enter planet price in $ONE\");\r\n    if(isNaN(price)){\r\n      return\r\n    }\r\n    this.setState({finishedLoading:false})\r\n\r\n    try {\r\n      await this.state.contractInstanceMarketplace.methods.createListing(skierID,\r\n        Web3.utils.toWei(price)\r\n        ).send()\r\n        await this.loadData()\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({finishedLoading:true})\r\n    }\r\n  }\r\n\r\n  async transferToken(skierID){\r\n    var address = prompt(\"Enter address to recieve the token\");\r\n \r\n    this.setState({finishedLoading:false})\r\n\r\n    try {\r\n      await this.state.contractInstanceHarmonyPlanets.methods.transferFrom(window.user,address,skierID).send()\r\n        await this.loadData()\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({finishedLoading:true})\r\n    }\r\n  }\r\n\r\n  async approveToken(skierID){\r\n    let approvedTokens = this.state.approvedTokens\r\n    this.setState({finishedLoading:false})\r\n    try {\r\n      await this.state.contractInstanceHarmonyPlanets.methods.approve(contractAddressMarketplace,skierID).send()\r\n      approvedTokens.push(skierID)\r\n      this.setState({\r\n        approvedTokens\r\n      })\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({finishedLoading:true})\r\n\r\n    }\r\n  }\r\n\r\n  getPlanets(){\r\n    let components = []\r\n    let localCounter =0\r\n    this.state.userTokens.forEach((userToken)=> {\r\n        if(localCounter< this.state.currentCounter){\r\n          let isApproved = false\r\n          let skierDetails ={\r\n            price:-1\r\n          }\r\n          this.state.listedTokens.forEach((listedToken)=>{\r\n            if(userToken == Number.parseInt(listedToken.tokenId)){\r\n              skierDetails = listedToken\r\n            }\r\n          })\r\n          this.state.approvedTokens.forEach((approvedToken)=>{\r\n            if(Number.parseInt(approvedToken) == Number.parseInt(userToken)){\r\n              isApproved = true\r\n            }\r\n          })\r\n          components.push(\r\n            <Grid key={userToken} item md={4} xs={12} style={{textAlign:\"center\"}} className=\"ski-grid\">\r\n              <PlanetWalletComponent \r\n              isApproved={isApproved}\r\n              callBackApprove={()=>this.approveToken(userToken)} \r\n              callBackList={()=>this.listToken(userToken)} \r\n              callBackRemove={()=>this.removeListing(userToken)} \r\n              callBackTransfer={()=>this.transferToken(userToken)}\r\n              price={skierDetails.price} \r\n              isMarketplace={false} \r\n              tokenID={userToken} \r\n              finishedLoading={this.state.finishedLoading}/>\r\n            </Grid>\r\n          )\r\n         \r\n        }\r\n        localCounter++\r\n\r\n    })\r\n    return components\r\n  }\r\n\r\n  \r\n  async claimRewards(){\r\n    try {\r\n        this.setState({isLoadingMintingRewards:true})\r\n\r\n        await this.state.contractInstanceHarmonyPlanets.methods.claimRewards().send()\r\n        await this.loadData()\r\n      } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({isLoadingMintingRewards:false})\r\n    }\r\n  }\r\n\r\n  showMore(){\r\n    let currentCounter = this.state.currentCounter\r\n    currentCounter+=MORE_PER_PAGE\r\n    this.setState({\r\n      currentCounter\r\n    })\r\n  }\r\n  \r\n  render() {\r\n    return(\r\n       <>\r\n       <Container>\r\n          <HeaderComponent/>\r\n\r\n          </Container>\r\n          <Container style={{margin:\"25px\"}}>\r\n            <Grid container spacing={2} >\r\n              <Grid item md={6} xs={6} style={{textAlign:\"center\"}}>\r\n                <h1 className=\"my-skiers-title\">My Planets</h1>\r\n                <h2 className=\"minted-skiers\">View your planets!</h2>\r\n              </Grid>\r\n              <Grid item md={6} xs={6} style={{textAlign:\"center\"}}>\r\n                {this.state.isLoadingMintingRewards?\r\n                  <a className=\"loading-animation\" onClick={()=>this.claimRewards()}>Loading minting rewards... </a>\r\n                :\r\n                  <>\r\n                    {this.state.myRewardsMinting>=0?\r\n                      <a onClick={()=>this.claimRewards()}>Claim minting rewards: {Number(Web3.utils.fromWei(this.state.myRewardsMinting+\"\",\"ether\")).toFixed(4)} $ONE </a>\r\n                    : null}\r\n                  </>\r\n                }\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container spacing={4}>\r\n            \r\n              {this.getPlanets()}\r\n            </Grid>\r\n\r\n            {this.state.currentCounter< this.state.userTokens.length ? \r\n              <>\r\n              <Grid item md={12} xs={12} style={{textAlign:\"center\"}}>\r\n                <br />\r\n                  <a onClick={()=>this.showMore()} style={{textAlign:\"center\"}}>Click here to show more</a>\r\n              </Grid>\r\n              </>\r\n            : null}\r\n           \r\n          </Container>\r\n         \r\n       </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WalletPage;\r\n","import React from \"react\";\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nclass MarketFilterComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoadingData: true,\r\n      tokenMetadata:[],\r\n      attributes:{},\r\n      selectedFilters:{}\r\n    };\r\n    this.resetFilter = this.resetFilter.bind(this)\r\n    this.updateSelectedFilter = this.updateSelectedFilter.bind(this)\r\n  }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.allMarketSkiers == this.props.allMarketSkiers){\r\n            return \r\n        }\r\n        let attributes = {}\r\n        let selectedFilters = {}\r\n        // set attribute types\r\n        this.props.allMarketSkiers.forEach((skier)=>{\r\n            skier.attributes.forEach((attribute)=>{\r\n                if(attributes[attribute.trait_type] == undefined){\r\n                    attributes[attribute.trait_type]  = []\r\n                    selectedFilters[attribute.trait_type] = 'disabled'\r\n                }\r\n\r\n                if(attributes[attribute.trait_type].indexOf(attribute.value) === -1) {\r\n                    attributes[attribute.trait_type].push(attribute.value)\r\n                }\r\n\r\n                attributes[attribute.trait_type].sort()\r\n               \r\n            })\r\n        })\r\n    \r\n        this.setState({\r\n            attributes,\r\n            selectedFilters\r\n        })\r\n    }\r\n\r\n    resetFilter(attributeName){\r\n        let selectedFilters = this.state.selectedFilters\r\n        selectedFilters[attributeName] = 'disabled'\r\n        this.setState({\r\n            selectedFilters\r\n        })\r\n        this.props.callBack(selectedFilters)\r\n    }\r\n\r\n    updateSelectedFilter(event,attributeName){\r\n        let selectedFilters = this.state.selectedFilters\r\n        selectedFilters[attributeName] = event.target.value \r\n        this.setState({\r\n            selectedFilters\r\n        })\r\n        this.props.callBack(selectedFilters)\r\n    }\r\n\r\n  getFilteringOptions(){\r\n      let components = []\r\n      for (const [attributeName, attributeValueList] of Object.entries(this.state.attributes)) {\r\n\r\n        let attributeValues = []\r\n        attributeValueList.forEach((value) =>{\r\n            attributeValues.push(\r\n                <option selected={this.state.selectedFilters[attributeName]==value} value={value}>\r\n                    {value}\r\n                </option>\r\n            )\r\n        })\r\n\r\n        components.push(\r\n            <div style={{display:\"table\",float:\"left\",marginRight:\"15px\"}}>\r\n                <select onChange={(event)=>this.updateSelectedFilter(event,attributeName)} style={{float:\"left\",marginRight:\"5px\", width:\"200px\"}}>\r\n                    <option  disabled selected={this.state.selectedFilters[attributeName]=='disabled'} value=\"empty\" >{attributeName}</option>\r\n                    {\r\n                        attributeValues\r\n                    }\r\n                </select>\r\n                <div  style={{float:\"left\"}} >\r\n                    <a onClick={()=>this.resetFilter(attributeName)}>x </a>\r\n                </div>\r\n            </div>\r\n        )\r\n     \r\n      }\r\n      \r\n    return(components)\r\n  }\r\n\r\n  render() {\r\n   \r\n    return(\r\n        <Grid  item md={12} xs={12} style={{textAlign:\"center\",display:\"inline-block\"}}>\r\n            {this.getFilteringOptions()}\r\n        </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MarketFilterComponent;\r\n","import React from \"react\";\r\nimport {getInstanceMarketplace,getInstanceHarmonyPlanets, getWeb3}  from \"../Web3Util\";\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Web3 from 'web3';\r\n\r\nimport harmonylogo from '../images/harmonylogo.png'; \r\n\r\nimport PlanetWalletComponent from '../components/PlanetWalletComponent';\r\nimport MarketFilterComponent from '../components/MarketFilterComponent';\r\nimport HeaderComponent from '../components/HeaderComponent';\r\n\r\nimport metadata from '../metadata/_metadata.json'; \r\n\r\nfunction compareAscendingID( a, b ) {\r\n  if ( a.edition < b.edition ){\r\n    return -1;\r\n  }\r\n  if ( a.edition > b.edition ){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nmetadata.sort( compareAscendingID );\r\nconst MORE_PER_PAGE = 9\r\n\r\nclass MarketplacePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isClaimingRewardsMarket:false,\r\n      myRewardsMarket:-1,\r\n      totalMinted:0,\r\n      shownMarketSkiers:[],\r\n      page:1,\r\n      totalVolume:-1,\r\n      totalSales:-1,\r\n      floorPrice:-1,\r\n      finishedLoading:false,\r\n      loadedRewardsMarket:false,\r\n      sortValue:\"NoSort\",\r\n      currentCounter:MORE_PER_PAGE\r\n    };\r\n    this.updateShownSkiers = this.updateShownSkiers.bind(this)\r\n    this.claimRewards = this.claimRewards.bind(this)\r\n    this.updateSort = this.updateSort.bind(this)\r\n    \r\n  }\r\n  componentDidMount = async () => {\r\n    try{\r\n      const web3 = await getWeb3();\r\n      window.web3 = web3;\r\n      const contractInstanceMarketplace = await getInstanceMarketplace(window.web3);\r\n      const contractInstanceHarmonyPlanets = await getInstanceHarmonyPlanets(window.web3);\r\n      \r\n      this.setState({ user: window.user });\r\n      this.setState({ contractInstanceMarketplace,contractInstanceHarmonyPlanets});\r\n      await this.loadData();\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      \r\n    }\r\n  }\r\n\r\n  async loadData() {\r\n    \r\n    try {\r\n   \r\n      if(window.user != undefined){\r\n        let myRewardsMarket =Number.parseInt(await this.state.contractInstanceMarketplace.methods.getReflectionBalances().call())\r\n        this.setState({\r\n          myRewardsMarket\r\n        })\r\n      }\r\n      this.setState({\r\n          loadedRewardsMarket:true\r\n      })\r\n      \r\n      let totalMinted =Number.parseInt(await this.state.contractInstanceHarmonyPlanets.methods.totalSupply().call())\r\n      let marketPlanets =[]\r\n      let shownMarketSkiers =[]\r\n\r\n      for(let counter=0;counter<totalMinted;++counter){\r\n        marketPlanets.push(metadata[counter])\r\n      }\r\n      shownMarketSkiers = marketPlanets\r\n\r\n      this.setState({\r\n        totalMinted,\r\n        shownMarketSkiers,\r\n        marketPlanets\r\n      })\r\n\r\n      let listedTokens = []\r\n      let cancelledTokens = []\r\n      let blocknumber = await window.web3.eth.getBlockNumber()\r\n\r\n      // console.log(\"@@@ hrere1\")\r\n      // let incomingTokenListingEvents = await this.state.contractInstanceMarketplace.getPastEvents('ListingCreated', { filter: {} ,fromBlock: blocknumber-100000,toBlock: 'latest'})\r\n      // console.log(\"@@@ here2\",incomingTokenListingEvents)   \r\n      // let incomingTokenListingCancelledEvents = await this.state.contractInstanceMarketplace.getPastEvents('ListingCancelled', { filter: {},fromBlock: blocknumber-100000,  toBlock: 'latest'})\r\n      // let incomingTokenListingSaleEvents = await this.state.contractInstanceMarketplace.getPastEvents('Sale', { filter: {},fromBlock: blocknumber-100000, toBlock: 'latest'})\r\n      \r\n      const [incomingTokenListingEvents, incomingTokenListingCancelledEvents,incomingTokenListingSaleEvents] = await Promise.all([\r\n        this.state.contractInstanceMarketplace.getPastEvents('ListingCreated', { filter: {}, fromBlock: blocknumber-100000, toBlock: 'latest'}), \r\n        this.state.contractInstanceMarketplace.getPastEvents('ListingCancelled', { filter: {}, fromBlock:blocknumber-100000, toBlock: 'latest'}),\r\n        this.state.contractInstanceMarketplace.getPastEvents('Sale', { filter: {}, fromBlock: blocknumber-100000, toBlock: 'latest'})\r\n      ])\r\n\r\n      incomingTokenListingEvents.forEach( (event) =>{\r\n        listedTokens.push(event.returnValues)\r\n      });\r\n\r\n     \r\n      incomingTokenListingCancelledEvents.forEach( (event) =>{\r\n        cancelledTokens.push(event.returnValues.tokenId)\r\n      });\r\n\r\n      let newListedTokens1 = []\r\n      let newListedTokens2 = []\r\n      let soldTokens = []\r\n\r\n      for (var i = 0 ; i< listedTokens.length; i++) {\r\n      \r\n        let isTokenPresent = false\r\n        for (var j =0; j < cancelledTokens.length; j++) {\r\n          if(Number.parseInt(listedTokens[i].tokenId) == Number.parseInt(cancelledTokens[j])){\r\n            isTokenPresent = true\r\n            cancelledTokens.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n        if(!isTokenPresent){\r\n          newListedTokens1.push(listedTokens[i])\r\n        }\r\n      }\r\n\r\n      let totalVolume = 0\r\n      incomingTokenListingSaleEvents.forEach( (event) =>{\r\n        soldTokens.push(event.returnValues.tokenId)\r\n        totalVolume+=Number.parseInt(event.returnValues.price)\r\n      });\r\n\r\n      for (var i = 0 ; i< newListedTokens1.length; i++) {\r\n      \r\n        let isTokenPresent = false\r\n        for (var j =0; j < soldTokens.length; j++) {\r\n          if(Number.parseInt(newListedTokens1[i].tokenId) == Number.parseInt(soldTokens[j])){\r\n            isTokenPresent = true\r\n            soldTokens.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n        if(!isTokenPresent){\r\n          newListedTokens2.push(newListedTokens1[i])\r\n        }\r\n      }\r\n      \r\n      let floorPrice = 0\r\n      let counter =0\r\n      newListedTokens2.forEach((listedToken)=>{\r\n        if(counter==0){\r\n          floorPrice = listedToken.price\r\n          counter++\r\n        }\r\n        if(Number.parseInt(listedToken.price)<Number.parseInt(floorPrice)){\r\n          floorPrice = listedToken.price\r\n        }\r\n      })\r\n\r\n      this.setState({\r\n        totalSales:incomingTokenListingSaleEvents.length,\r\n        totalVolume,\r\n        floorPrice\r\n      })\r\n\r\n      let newMarketPlanets = []\r\n      marketPlanets.forEach((marketPlanet)=>{\r\n        let planetID = marketPlanet.edition-1+\"\"\r\n        if(newListedTokens2.some((element)=>element.tokenId === planetID)){\r\n          let localSkier = marketPlanet\r\n          let containsIsForSale = false\r\n          localSkier.attributes.forEach((attribute)=>{\r\n            if(attribute.trait_type == \"Is for sale\"){\r\n              containsIsForSale = true\r\n            }\r\n          })\r\n          if(!containsIsForSale){\r\n            localSkier.attributes.push({\r\n              \"trait_type\":\"Is for sale\",\r\n              \"value\":\"For sale\"\r\n            })\r\n          }\r\n          newListedTokens2.forEach((listedToken)=>{\r\n            if(listedToken.tokenId ==planetID ){\r\n              localSkier.price = listedToken.price\r\n            } \r\n          })\r\n          newMarketPlanets.push(localSkier)\r\n        }else{\r\n          let localSkier = marketPlanet\r\n          let containsIsForSale = false\r\n          localSkier.attributes.forEach((attribute)=>{\r\n            if(attribute.trait_type == \"Is for sale\"){\r\n              containsIsForSale = true\r\n            }\r\n          })\r\n          if(!containsIsForSale){\r\n            localSkier.attributes.push({\r\n              \"trait_type\":\"Is for sale\",\r\n              \"value\":\"Not for sale\"\r\n            })\r\n          }\r\n          localSkier.price = -1\r\n          newMarketPlanets.push(localSkier)\r\n        }\r\n      })\r\n\r\n      marketPlanets = newMarketPlanets\r\n      shownMarketSkiers = marketPlanets\r\n      this.setState({\r\n        marketPlanets,\r\n        shownMarketSkiers,\r\n        finishedLoading:true\r\n      })\r\n\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n    }\r\n  }\r\n\r\n   \r\n  async claimRewards(){\r\n    try {\r\n        this.setState({isClaimingRewardsMarket:true,loadedRewardsMarket:false})\r\n\r\n        await this.state.contractInstanceMarketplace.methods.claimRewards().send()\r\n        await this.loadData()\r\n      } catch (e) {\r\n      console.log('Error', e)\r\n    }finally{\r\n      this.setState({isClaimingRewardsMarket:false,loadedRewardsMarket:true})\r\n    }\r\n  }\r\n\r\n  async buySkier(planetID,price){\r\n  \r\n    try {\r\n\r\n      await this.state.contractInstanceMarketplace.methods.buy(planetID).send({\r\n        value:price\r\n      })\r\n\r\n    } catch (e) {\r\n      console.log('Error', e)\r\n  \r\n    }finally{\r\n      window.location.reload();\r\n    }\r\n  }\r\n\r\n  getSkiers(){\r\n    let components = []\r\n    let localCounter =0\r\n\r\n    this.state.shownMarketSkiers.forEach((marketPlanet)=> {\r\n        if(localCounter< this.state.currentCounter){\r\n          components.push(\r\n            <Grid key={marketPlanet.edition} item md={4} xs={12} className=\"ski-grid\" style={{textAlign:\"center\"}}>\r\n              <PlanetWalletComponent \r\n              callBackBuy={()=>this.buySkier(marketPlanet.edition-1,marketPlanet.price)} \r\n              tokenID={marketPlanet.edition-1} \r\n              price={marketPlanet.price} \r\n              isMarketplace={true}\r\n              finishedLoading={this.state.finishedLoading}\r\n              />\r\n            </Grid>)\r\n        }\r\n        localCounter++\r\n    })\r\n    return components\r\n  }\r\n\r\n  showMore(){\r\n    let currentCounter = this.state.currentCounter\r\n    currentCounter+=MORE_PER_PAGE\r\n    this.setState({\r\n      currentCounter\r\n    })\r\n  }\r\n\r\n  updateShownSkiers(newFilter){\r\n    let localSkiers= this.state.marketPlanets\r\n    let newShownSkiers = []\r\n    localSkiers.forEach((skier)=>{\r\n\r\n      let shouldShowSkier = true\r\n      skier.attributes.forEach((attribute)=>{\r\n        for (const [attributeName, selectedValue] of Object.entries(newFilter)) {\r\n\r\n          if(selectedValue != 'disabled'){\r\n            if(attribute.trait_type == attributeName &&\r\n              attribute.value != selectedValue ){\r\n                shouldShowSkier = false\r\n            }\r\n          }\r\n        }\r\n      })\r\n      if(shouldShowSkier){\r\n\r\n        newShownSkiers.push(skier)\r\n      }\r\n    })\r\n   \r\n    this.setState({\r\n      shownMarketSkiers:newShownSkiers,\r\n      sortValue:\"NoSort\"\r\n    })\r\n    \r\n  }\r\n\r\n  updateSort(event){\r\n    \r\n    let newArray = this.state.shownMarketSkiers\r\n    if(event.target.value == \"Ascending\"){\r\n      function compare( a, b ) {\r\n        return  a.price - b.price \r\n      }\r\n      newArray.sort( compare );\r\n    }else if(event.target.value == \"Descending\"){\r\n      function compare( a, b ) {\r\n        return   b.price - a.price \r\n      }\r\n      newArray.sort( compare );\r\n    }\r\n    this.setState({\r\n      sortValue:event.target.value,\r\n      shownMarketSkiers:newArray\r\n    })\r\n  }\r\n  \r\n  \r\n  render() {\r\n\r\n    return(\r\n       <>\r\n       <Container>\r\n          <HeaderComponent />\r\n          </Container>\r\n          \r\n          <Container style={{margin:\"25px\"}}>\r\n            <Grid container spacing={2} >\r\n              <Grid item md={6} xs={6} style={{textAlign:\"center\"}}>\r\n                <h1 className=\"marketplace-title\">Marketplace</h1>\r\n                <h2 className=\"minted-skiers\">Trade Planets, claim rewards</h2>\r\n              </Grid>\r\n              <Grid item md={6} xs={6} style={{textAlign:\"center\"}}>\r\n                {this.state.loadedRewardsMarket?\r\n                  <>\r\n                    {this.state.myRewardsMarket>=0?\r\n                      <a onClick={()=>this.claimRewards()}>Claim market rewards: {Number(Web3.utils.fromWei(this.state.myRewardsMarket+\"\",\"ether\")).toFixed(8)} $ONE </a>\r\n                    :\r\n                      null\r\n                    }\r\n                  </>\r\n                :\r\n                  <a className=\"loading-animation\">Loading market rewards...</a>\r\n                }\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <br />\r\n            <Grid container spacing={2} >\r\n              <Grid item md={4} xs={4} style={{textAlign:\"center\"}}>\r\n                Floor price <br/>\r\n                {this.state.floorPrice == -1 ?\r\n                  <p className=\"loading-animation\">Loading...</p>\r\n                : \r\n                  <>\r\n                    <img src={harmonylogo} style={{width:\"20px\",marginRight:\"5px\"}}/>{Number(Web3.utils.fromWei(this.state.floorPrice+\"\",\"ether\")).toFixed(2)} \r\n                  </>\r\n                }\r\n              </Grid>\r\n              <Grid item md={4} xs={4} style={{textAlign:\"center\"}}>\r\n                Total volume <br/>\r\n                {this.state.totalVolume== -1?\r\n                  <p className=\"loading-animation\">Loading...</p>\r\n                  :\r\n                  <><img src={harmonylogo}  style={{width:\"20px\",marginRight:\"5px\"}}/>{Number(Web3.utils.fromWei(this.state.totalVolume+\"\",\"ether\")).toFixed(2)} </>\r\n                }\r\n              </Grid>\r\n              <Grid item md={4} xs={4} style={{textAlign:\"center\"}}>\r\n                Total sales  <br/>\r\n                 {this.state.totalSales == -1?\r\n                  <p className=\"loading-animation\">Loading...</p>\r\n                  :this.state.totalSales}\r\n              </Grid>\r\n            </Grid>\r\n            <br />\r\n            \r\n            <Grid container spacing={4}>\r\n              <Grid  item md={12} xs={12} style={{textAlign:\"left\"}}>\r\n                <h3>Filters</h3>\r\n              </Grid>\r\n              <MarketFilterComponent allMarketSkiers={this.state.marketPlanets} callBack={this.updateShownSkiers}/>\r\n            </Grid>\r\n            {this.state.finishedLoading?\r\n              <Grid container spacing={4}>\r\n                <Grid  item md={12} xs={12} style={{textAlign:\"left\"}}>\r\n                  <h3>Sort</h3>\r\n                </Grid>\r\n                <Grid  item md={12} xs={12} style={{textAlign:\"left\"}}>\r\n                  <div style={{display:\"table\",float:\"left\",marginRight:\"15px\"}}>\r\n                      <select onChange={(event)=>{this.updateSort(event)}} style={{float:\"left\",marginRight:\"5px\", width:\"200px\"}}>\r\n                          <option  disabled selected={this.state.sortValue==\"NoSort\"} value=\"NoSort\" >Sort by price</option>\r\n                          <option  selected={this.state.sortValue==\"Ascending\"} value=\"Ascending\" >Ascending</option>\r\n                          <option  selected={this.state.sortValue==\"Descending\"} value=\"Descending\" >Descending</option>\r\n                      </select>\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            :null}\r\n            \r\n            <Grid container spacing={4}>\r\n              {this.getSkiers()}\r\n            </Grid>\r\n\r\n            {this.state.currentCounter< this.state.shownMarketSkiers.length ? \r\n              <>\r\n              <Grid  item md={12} xs={12} style={{textAlign:\"center\"}}>\r\n                <br />\r\n                  <a onClick={()=>this.showMore()} style={{textAlign:\"center\"}}>Click here to show more</a>\r\n              </Grid>\r\n              </>\r\n            : null}\r\n          </Container>\r\n         \r\n       </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MarketplacePage;\r\n","import React from \"react\";\r\nimport {Route, Switch ,HashRouter} from \"react-router-dom\";\r\n\r\nimport HomePage from './pages/HomePage';\r\nimport WalletPage from './pages/WalletPage';\r\n\r\nimport MarketplacePage from './pages/MarketplacePage';\r\n\r\nclass Routes extends React.Component {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={HomePage} />\r\n        <Route exact path=\"/home\" component={HomePage} />\r\n        <Route exact path=\"/wallet\" component={WalletPage} />\r\n        <Route exact path=\"/market\" component={MarketplacePage} />\r\n\r\n      <Route\r\n        render={function() {\r\n          return <h1>Not Found</h1>;\r\n        }}\r\n      />\r\n    </Switch>\r\n    </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Routes;\r\n","import React from \"../node_modules/react\";\r\nimport \"./App.css\";\r\nimport \"./index.css\";\r\nimport { BrowserRouter as Router } from \"../node_modules/react-router-dom\";\r\nimport Routes from \"./Routes\";\r\n\r\nclass App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Routes />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}